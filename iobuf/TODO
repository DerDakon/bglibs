- Fix I/O timeout routines to allow poll to be interrupted and retried

- ibuf_ungetc
- ibuf_geti
- ibuf_getstr
- ibuf_getnetstring

- add flushchar to obuf
- set flushchar to \n on stdout, stderr
- make obuf_putc (easy), obuf_write (harder) handle flushchar
